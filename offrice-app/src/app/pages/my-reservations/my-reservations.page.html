<ion-refresher slot="fixed" (ionRefresh)="handleRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
</ion-refresher>

<!-- Loading -->
<div *ngIf="isLoading" class="ion-text-center ion-padding mt-5">
    <ion-spinner color="primary"></ion-spinner>
</div>

<!-- Empty State -->
<div *ngIf="!isLoading && reservations.length === 0" class="empty-state ion-padding ion-text-center">
    <ion-icon [icon]="bagHandle" color="medium"></ion-icon>
    <h3>Nessuna prenotazione</h3>
    <p class="ion-text-muted">Non hai ancora prenotato nulla.</p>
</div>

<!-- Lista Prenotazioni (Stile Pantry) -->
<ion-list *ngIf="!isLoading && reservations.length > 0" class="pantry-list">

    <ion-item *ngFor="let res of reservations" lines="none" detail="false" class="pantry-item">

        <!-- Thumbnail (Placeholder per ora) -->
        <div slot="start" class="item-thumbnail-container">
            <div class="icon-placeholder">
                <ion-icon [icon]="fastFood"></ion-icon>
            </div>
        </div>

        <ion-label class="ion-text-wrap">
            <h2 class="item-title">{{ res.itemName }}</h2>

            <div class="item-details">
                <!-- QuantitÃ  Badge -->
                <span class="quantity-badge">{{ res.quantity }} {{ res.unit }}</span>

                <!-- Data Badge -->
                <span class="date-badge" *ngIf="res.createdAtDate">
                    <ion-icon [icon]="timeOutline"></ion-icon>
                    {{ res.createdAtDate | date:'dd/MM HH:mm' }}
                </span>
            </div>
        </ion-label>

        <!-- Tasto Cancella -->
        <ion-button slot="end" fill="clear" color="danger" (click)="cancelReservation(res)">
            <ion-icon [icon]="trashOutline" slot="icon-only"></ion-icon>
        </ion-button>
    </ion-item>

</ion-list>